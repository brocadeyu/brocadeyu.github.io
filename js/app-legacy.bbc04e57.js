(function(){"use strict";var t={587:function(t,o,e){e(6992),e(8674),e(9601),e(7727);var n=e(9567),i=e(4549),s=e.n(i),d=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"container"}},[e("div",{attrs:{id:"app"}},[e("TodoTop"),e("TodoList",{attrs:{todos:t.todos}}),e("TodoFoot",{attrs:{todos:t.todos,checkAllTodo:t.checkAllTodo,deleteDone:t.deleteDone}})],1)])},u=[],r=(e(1539),e(4747),e(7327),e(8862),function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"top"},[e("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.inputValue,callback:function(o){t.inputValue=o},expression:"inputValue"}}),e("el-button",{on:{click:t.handleAdd}},[t._v("添加")])],1)}),l=[],a=e(562),c={name:"TodoTop",methods:{handleAdd:function(t){if(t.target.blur(),t.target.parentNode.blur(),!this.inputValue)return this.$message("请输入内容");var o={title:this.inputValue,id:(0,a.x0)(),done:!1};this.$bus.$emit("addTodo",o),this.inputValue=""}},data:function(){return{inputValue:""}}},h=c,f=e(1001),p=(0,f.Z)(h,r,l,!1,null,"457b02c0",null),v=p.exports,m=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"main"},[e("el-divider",{attrs:{"content-position":"center"}},[t._v("待办事项")]),t._l(t.todos,(function(t){return e("TodoItem",{key:t.id,attrs:{todo:t}})}))],2)},b=[],T=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"todoitem"},[e("el-checkbox",{attrs:{value:t.todo.done},on:{change:function(o){return t.handleCheck(t.todo.id)}}},[e("el-input",{directives:[{name:"show",rawName:"v-show",value:t.todo.isEdit,expression:"todo.isEdit"}],ref:"buttonFocus",attrs:{maxlength:"10",autofocus:"true",placeholder:"请输入内容",size:"mini"},on:{blur:function(o){return t.handleBlur(t.todo)}},model:{value:t.inputValue,callback:function(o){t.inputValue=o},expression:"inputValue"}})],1),e("span",{directives:[{name:"show",rawName:"v-show",value:!t.todo.isEdit,expression:"!todo.isEdit"}]},[t._v(" "+t._s(t.todo.title)+" ")]),e("el-button",{directives:[{name:"show",rawName:"v-show",value:!t.todo.isEdit,expression:"!todo.isEdit"}],attrs:{type:"success",size:"small"},on:{click:function(o){return t.handleCheck1(t.todo.id)}}},[t._v("完成")]),e("el-button",{directives:[{name:"show",rawName:"v-show",value:!t.todo.isEdit,expression:"!todo.isEdit"}],attrs:{type:"danger",size:"small"},on:{click:function(o){return t.handleDelete(t.todo.id)}}},[t._v("删除")]),e("el-button",{directives:[{name:"show",rawName:"v-show",value:!t.todo.isEdit,expression:"!todo.isEdit"}],attrs:{type:"primary",size:"small"},on:{click:function(o){return t.handleEdit(t.todo)}}},[t._v("编辑")])],1)},$=[],g={name:"TodoItem",props:["todo"],data:function(){return{checked:this.todo.done,inputValue:""}},methods:{handleCheck:function(t){this.$bus.$emit("statusTodo",t)},handleDelete:function(t){this.$bus.$emit("deleteTodo",t)},handleEdit:function(t){this.$set(t,"isEdit",!0),this.inputValue=this.todo.title,this.$nextTick((function(){this.$refs.buttonFocus.$el.querySelector("input").focus()}))},handleBlur:function(t){this.inputValue?(this.$bus.$emit("editTodo",t,this.inputValue),t.isEdit=!1):(this.inputValue=this.todo.title,t.isEdit=!1,this.$message("输入不能为空"))},handleCheck1:function(t){this.$bus.$emit("statusTodo",t),this.checked=!this.checked}}},w=g,k=(0,f.Z)(w,T,$,!1,null,"b0084d12",null),_=k.exports,E={name:"TodoList",props:["todos"],components:{TodoItem:_}},y=E,x=(0,f.Z)(y,m,b,!1,null,"840e4918",null),O=x.exports,V=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",[e("el-empty",{directives:[{name:"show",rawName:"v-show",value:!t.todoLength,expression:"!todoLength"}],attrs:{description:"空空如也"}}),e("div",{directives:[{name:"show",rawName:"v-show",value:t.todoLength,expression:"todoLength"}],staticClass:"foot"},[e("el-checkbox",{attrs:{value:t.isAll},on:{change:function(o){return t.checkAll()}}},[t._v("全选")]),e("span",[t._v("已完成： "+t._s(t.doneTodo)+" / 合计： "+t._s(t.todoLength))]),e("el-button",{attrs:{size:"small"},on:{click:t.handleDeleteDone}},[t._v("删除已完成")])],1)],1)},A=[],D={name:"TodoFoot",props:["todos","checkAllTodo","deleteDone"],computed:{todoLength:function(){return this.todos.length},doneTodo:function(){var t=0;return this.todos.forEach((function(o){o.done&&t++})),t},isAll:function(){return this.todoLength===this.doneTodo&&this.todoLength>0}},methods:{checkAll:function(){this.checkAllTodo(!this.isAll)},handleDeleteDone:function(){this.deleteDone()}}},C=D,L=(0,f.Z)(C,V,A,!1,null,"45161fb2",null),N=L.exports,S={name:"App",components:{TodoTop:v,TodoList:O,TodoFoot:N},data:function(){return{todos:JSON.parse(localStorage.getItem("todos"))||[{title:"吃饭",id:1,done:!0},{title:"睡觉",id:2,done:!1},{title:"代码",id:3,done:!0},{title:"本地存储，隐私++",id:4,done:!0}]}},methods:{addTodo:function(t){this.todos.unshift(t)},editTodo:function(t,o){this.todos.forEach((function(e){e.id===t.id&&(e.title=o)}))},deleteTodo:function(t){this.todos=this.todos.filter((function(o){return o.id!=t}))},deleteDone:function(){this.todos=this.todos.filter((function(t){return 0==t.done}))},checkAllTodo:function(t){this.todos.forEach((function(o){o.done=t}))},statusTodo:function(t){this.todos.forEach((function(o){o.id===t&&(o.done=!o.done)}))}},watch:{todos:{deep:!0,handler:function(t){localStorage.setItem("todos",JSON.stringify(t))}}},mounted:function(){var t=this;this.$bus.$on("addTodo",(function(o){t.addTodo(o)})),this.$bus.$on("statusTodo",(function(o){t.statusTodo(o)})),this.$bus.$on("deleteTodo",(function(o){t.deleteTodo(o)})),this.$bus.$on("editTodo",(function(o,e){t.editTodo(o,e)})),this.todos.forEach((function(o){o.isEdit&&(o.isEdit=!1,t.$message("请重新输入"))}))},beforeDestroy:function(){this.$bus.$off("addTodo"),this.$bus.$off("statusTodo"),this.$bus.$off("deleteTodo")}},j=S,F=(0,f.Z)(j,d,u,!1,null,null,null),z=F.exports;n["default"].config.productionTip=!1,n["default"].use(s()),new n["default"]({render:function(t){return t(z)},beforeCreate:function(){n["default"].prototype.$bus=this}}).$mount("#app")}},o={};function e(n){var i=o[n];if(void 0!==i)return i.exports;var s=o[n]={exports:{}};return t[n](s,s.exports,e),s.exports}e.m=t,function(){var t=[];e.O=function(o,n,i,s){if(!n){var d=1/0;for(a=0;a<t.length;a++){n=t[a][0],i=t[a][1],s=t[a][2];for(var u=!0,r=0;r<n.length;r++)(!1&s||d>=s)&&Object.keys(e.O).every((function(t){return e.O[t](n[r])}))?n.splice(r--,1):(u=!1,s<d&&(d=s));if(u){t.splice(a--,1);var l=i();void 0!==l&&(o=l)}}return o}s=s||0;for(var a=t.length;a>0&&t[a-1][2]>s;a--)t[a]=t[a-1];t[a]=[n,i,s]}}(),function(){e.n=function(t){var o=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(o,{a:o}),o}}(),function(){e.d=function(t,o){for(var n in o)e.o(o,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:o[n]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)}}(),function(){e.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};e.O.j=function(o){return 0===t[o]};var o=function(o,n){var i,s,d=n[0],u=n[1],r=n[2],l=0;if(d.some((function(o){return 0!==t[o]}))){for(i in u)e.o(u,i)&&(e.m[i]=u[i]);if(r)var a=r(e)}for(o&&o(n);l<d.length;l++)s=d[l],e.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return e.O(a)},n=self["webpackChunkvue_todolist"]=self["webpackChunkvue_todolist"]||[];n.forEach(o.bind(null,0)),n.push=o.bind(null,n.push.bind(n))}();var n=e.O(void 0,[998],(function(){return e(587)}));n=e.O(n)})();
//# sourceMappingURL=app-legacy.bbc04e57.js.map